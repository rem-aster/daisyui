import{j,k as z,l as _,m as B,o as F,U as b,q as v,u as k,v as E,w as h,x as G,y as L,z as w,A,B as C,C as P,D,E as d,F as S}from"./B_Mm4G8F.js";const m=0,i=1,y=2;function J(T,q,f,p,H){_&&B();var n=T,x=j(),U=P,a=b,r,t,u,o=(x?k:E)(void 0),I=(x?k:E)(void 0),l=!1;function c(e,s){l=!0,s&&(w(N),A(N),C(U));try{e===m&&f&&(r?D(r):r=h(()=>f(n))),e===i&&p&&(t?D(t):t=h(()=>p(n,o))),e!==m&&r&&d(r,()=>r=null),e!==i&&t&&d(t,()=>t=null),e!==y&&u&&d(u,()=>u=null)}finally{s&&(C(null),A(null),w(null),S())}}var N=z(()=>{if(a!==(a=q())){if(F(a)){var e=a;l=!1,e.then(s=>{e===a&&(v(o,s),c(i,!0))},s=>{if(e===a)throw v(I,s),c(y,!0),I.v}),_?f&&(r=h(()=>f(n))):G(()=>{l||c(m,!0)})}else v(o,a),c(i,!1);return()=>a=b}});_&&(n=L)}export{J as a};

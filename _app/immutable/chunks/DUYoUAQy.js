import{a2 as q,I as F,E as _,u as G,a3 as L,U as b,a4 as v,a5 as E,R as k,D as h,P as M,v as R,a6 as D,a7 as T,a8 as w,F as S,M as A,N as d,a9 as Z}from"./DuQXaRSr.js";const m=0,i=1,p=2;function z(C,H,f,y,P){_&&G();var n=C,I=q(),U=S,a=b,r,t,u,o=(I?E:k)(void 0),N=(I?E:k)(void 0),l=!1;function c(e,s){l=!0,s&&(D(x),T(x),w(U));try{e===m&&f&&(r?A(r):r=h(()=>f(n))),e===i&&y&&(t?A(t):t=h(()=>y(n,o))),e!==m&&r&&d(r,()=>r=null),e!==i&&t&&d(t,()=>t=null),e!==p&&u&&d(u,()=>u=null)}finally{s&&(w(null),T(null),D(null),Z())}}var x=F(()=>{if(a!==(a=H())){if(L(a)){var e=a;l=!1,e.then(s=>{e===a&&(v(o,s),c(i,!0))},s=>{if(e===a)throw v(N,s),c(p,!0),N.v}),_?f&&(r=h(()=>f(n))):M(()=>{l||c(m,!0)})}else v(o,a),c(i,!1);return()=>a=b}});_&&(n=R)}export{z as a};
